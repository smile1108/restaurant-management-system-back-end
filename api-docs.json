{"swagger":"2.0","info":{"description":"接口定义,统一根接口为/api/dbcourse","title":"餐厅管理系统API接口文档"},"host":"localhost:8080","basePath":"/","tags":[{"name":"admin-controller","description":"管理员操作"},{"name":"food-controller","description":"菜品操作"},{"name":"merchant-controller","description":"商家操作"},{"name":"order-controller","description":"订单操作"},{"name":"session-controller","description":"自动登录获取信息"},{"name":"user-controller","description":"用户操作"},{"name":"window-controller","description":"窗口操作"}],"paths":{"/api/dbcourse/admin/login":{"post":{"tags":["admin-controller"],"summary":"管理员登录验证","operationId":"loginUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"name","in":"query","description":"管理员账号","required":true,"type":"string"},{"name":"password","in":"query","description":"用户密码","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/admin/logout":{"get":{"tags":["admin-controller"],"summary":"管理员退出登录","operationId":"logoutUsingGET","produces":["*/*"],"parameters":[{"name":"name","in":"query","description":"管理员用户名","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/food/add":{"post":{"tags":["food-controller"],"summary":"增加菜品","operationId":"addUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"floor","in":"query","description":"楼层","required":true,"type":"string"},{"name":"merchantId","in":"query","description":"商家号","required":true,"type":"integer","default":0,"format":"int32","x-example":0},{"name":"name","in":"query","description":"菜品名称","required":true,"type":"string"},{"name":"price","in":"query","description":"菜品价格","required":true,"type":"number","format":"double"},{"name":"taste","in":"query","description":"菜品口味","required":true,"type":"string"},{"name":"wicketNumber","in":"query","description":"窗口号","required":true,"type":"integer","default":0,"format":"int32","x-example":0}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/food/delete":{"post":{"tags":["food-controller"],"summary":"删除菜品","operationId":"deleteUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"foodId","in":"query","description":"菜品id","required":true,"type":"integer","format":"int32"},{"name":"merchantId","in":"query","description":"商家id","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/food/getByFloor":{"get":{"tags":["food-controller"],"summary":"按照楼层查找菜品","operationId":"getByFloorUsingGET","produces":["*/*"],"parameters":[{"name":"floor","in":"query","description":"楼层","required":true,"type":"integer","default":0,"format":"int32","x-example":0}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/food/getByTaste":{"get":{"tags":["food-controller"],"summary":"按照口味查找菜品","operationId":"getByTasteUsingGET","produces":["*/*"],"parameters":[{"name":"taste","in":"query","description":"口味","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/food/getByWindowId":{"get":{"tags":["food-controller"],"summary":"按照窗口号查找菜品","operationId":"getByWindowIdUsingGET","produces":["*/*"],"parameters":[{"name":"floor","in":"query","description":"楼层","required":true,"type":"integer","default":0,"format":"int32","x-example":0},{"name":"wicketNumber","in":"query","description":"窗口号","required":true,"type":"integer","default":0,"format":"int32","x-example":0}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/food/list":{"get":{"tags":["food-controller"],"summary":"搜索全部菜品","operationId":"listUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/food/update":{"post":{"tags":["food-controller"],"summary":"修改菜品","operationId":"updateUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"foodId","in":"query","description":"菜品id","required":true,"type":"integer","format":"int32"},{"name":"merchantId","in":"query","description":"商家id","required":true,"type":"integer","format":"int32"},{"name":"name","in":"query","description":"菜品名称","required":true,"type":"string"},{"name":"price","in":"query","description":"菜品价格","required":true,"type":"number","format":"double"},{"name":"taste","in":"query","description":"菜品口味","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/getMessage":{"get":{"tags":["session-controller"],"summary":"自动获取信息","operationId":"getMessageUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/merchant/completeOrder":{"get":{"tags":["merchant-controller"],"summary":"商家完成订单","operationId":"completeOrderUsingGET","produces":["*/*"],"parameters":[{"name":"orderId","in":"query","description":"订单号","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/merchant/getAllOrders":{"get":{"tags":["merchant-controller"],"summary":"商家获取自己所有订单","operationId":"getAllOrdersUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/merchant/getCode":{"get":{"tags":["merchant-controller"],"summary":"商家获取验证码","operationId":"getCodeUsingGET","produces":["*/*"],"parameters":[{"name":"email","in":"query","description":"商家邮箱","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/merchant/getbackPass":{"post":{"tags":["merchant-controller"],"summary":"商家找回密码","operationId":"getbackPassUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"email","in":"query","description":"商家邮箱","required":true,"type":"string"},{"name":"merchantId","in":"query","description":"商家id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/merchant/login":{"post":{"tags":["merchant-controller"],"summary":"商家登录验证","operationId":"loginUsingPOST_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"email","in":"query","description":"商家邮箱","required":true,"type":"string"},{"name":"password","in":"query","description":"商家密码","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/merchant/logout":{"get":{"tags":["merchant-controller"],"summary":"商家退出登录","operationId":"logoutUsingGET_1","produces":["*/*"],"parameters":[{"name":"email","in":"query","description":"商家邮箱","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/merchant/modifyPass":{"post":{"tags":["merchant-controller"],"summary":"商家修改密码","operationId":"modifyPassUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"email","in":"query","description":"商家email","required":true,"type":"string"},{"name":"newPass","in":"query","description":"商家新密码","required":true,"type":"string"},{"name":"oldPass","in":"query","description":"商家旧密码","required":true,"type":"string"},{"name":"qualifyPass","in":"query","description":"商家确认密码","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/merchant/register":{"post":{"tags":["merchant-controller"],"summary":"注册商家","operationId":"registerUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"code","in":"query","description":"验证码","required":true,"type":"string"},{"name":"email","in":"query","description":"商家邮箱","required":true,"type":"string"},{"name":"password","in":"query","description":"商家密码","required":true,"type":"string"},{"name":"qualifyPass","in":"query","description":"确认密码","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/order/create":{"post":{"tags":["order-controller"],"summary":"创建订单操作","operationId":"createUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"foodName","in":"query","description":"菜品名称","required":true,"type":"string"},{"name":"isPackage","in":"query","description":"是否打包","required":true,"type":"integer","default":0,"format":"int32","x-example":0},{"name":"number","in":"query","description":"预定菜品的数量","required":true,"type":"integer","default":0,"format":"int32","x-example":0},{"name":"takeTime","in":"query","description":"用户预取时间","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/order/delete":{"post":{"tags":["order-controller"],"summary":"取消订单操作","operationId":"deleteUsingPOST_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"orderId","in":"query","description":"要取消的订单号","required":true,"type":"integer","default":0,"format":"int32","x-example":0}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/user/getAllOrders":{"get":{"tags":["user-controller"],"summary":"用户获取自己所有订单","operationId":"getAllOrdersUsingGET_1","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/user/getCode":{"get":{"tags":["user-controller"],"summary":"用户获取验证码","operationId":"getCodeUsingGET_1","produces":["*/*"],"parameters":[{"name":"email","in":"query","description":"用户邮箱","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/user/getbackPass":{"post":{"tags":["user-controller"],"summary":"用户找回密码","operationId":"getbackPassUsingPOST_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"email","in":"query","description":"用户邮箱","required":true,"type":"string"},{"name":"id","in":"query","description":"用户id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/user/gradeOrder":{"post":{"tags":["user-controller"],"summary":"用户评分订单","operationId":"gradeOrderUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"grade","in":"query","description":"用户评分","required":true,"type":"integer","format":"int32"},{"name":"orderId","in":"query","description":"订单号","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/user/login":{"post":{"tags":["user-controller"],"summary":"用户登录验证","operationId":"loginUsingPOST_2","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"query","description":"用户id","required":true,"type":"string"},{"name":"password","in":"query","description":"用户密码","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/user/logout":{"get":{"tags":["user-controller"],"summary":"用户退出登录","operationId":"logoutUsingGET_2","produces":["*/*"],"parameters":[{"name":"email","in":"query","description":"用户邮箱","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/user/modifyMsg":{"post":{"tags":["user-controller"],"summary":"注册用户","operationId":"modifyMsgUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"email","in":"query","description":"学生邮箱","required":true,"type":"string"},{"name":"id","in":"query","description":"学生号","required":true,"type":"string"},{"name":"name","in":"query","description":"用户昵称","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/user/modifyPass":{"post":{"tags":["user-controller"],"summary":"用户修改密码","operationId":"modifyPassUsingPOST_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"email","in":"query","description":"用户邮箱","required":true,"type":"string"},{"name":"newPass","in":"query","description":"用户新密码","required":true,"type":"string"},{"name":"oldPass","in":"query","description":"用户旧密码","required":true,"type":"string"},{"name":"qualifyPass","in":"query","description":"用户确认密码","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/user/register":{"post":{"tags":["user-controller"],"summary":"注册用户","operationId":"registerUsingPOST_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"code","in":"query","description":"验证码","required":true,"type":"string"},{"name":"email","in":"query","description":"用户邮箱","required":true,"type":"string"},{"name":"password","in":"query","description":"用户密码","required":true,"type":"string"},{"name":"qualifyPass","in":"query","description":"确认密码","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}},"/api/dbcourse/window/open":{"post":{"tags":["window-controller"],"summary":"窗口开通操作","operationId":"openUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"floor","in":"query","description":"窗口楼层","required":true,"type":"integer","default":0,"format":"int32","x-example":0},{"name":"merchantId","in":"query","description":"商家id","required":true,"type":"integer","default":0,"format":"int32","x-example":0},{"name":"wicketNumber","in":"query","description":"窗口号","required":true,"type":"integer","default":0,"format":"int32","x-example":0}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/CommonReturnType"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"deprecated":false}}},"definitions":{"CommonReturnType":{"type":"object","properties":{"code":{"type":"string"},"data":{"type":"object"},"msg":{"type":"string"}},"title":"CommonReturnType"}}}